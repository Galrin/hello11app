# Приложение для бизнеса. Расчет эффективности расходов и распределение расчётов

## Используемые технологии

Стэк `Python` `Flask` `Pony ORM`.

Дизайн `HTML5` `BootStrap5` `PureJS` `Jquery`.

Анализ данных `PANDAS` `SKLEARN`.

## Загрузка массива данных из первичных документов

в системе существует `REST API` для инициации загрузки существующего массива данных в формате `.csv`. Запрос `GET`:

```http request
https://localhost:5000/main/api/intent/invoice/<string:file_name>
```

где `<string:file_name>` это наименование .csv файла на диске.
все файлы запускаемые таким образом должны находиться в дирректории `/instance/upload_files/` проекта.
В случае успеха будет возвращён json с полями `{ str(file_name), bool(success), int(rows_count)  }`

### Загрузка массива через веб интерфейс

вы можете использовать удобный интерфейс зайдя в `Главное меню` приложения и выбрав пункт `Счета на оплату`

## Роли

В системе предусмотренны гибкие роли для пользователей описывающие доступ как к определённым страницам, так и к
определённым участкам страниц.

достигается это несколькими путями:

1. `Черный список`: для каждой роли предусмотрен настраиваемый список запрещенных маршрутов
   ```['/main/settings', '/main/invoices', '...']``` и т.д.
3. `Флаги уровня доступа`: для каждой роли предусмотрен набор уровней доступа представляющих из себя последовательность
   от `a`
   до `z`.
   Разработчик может выделить диапазон флагов доступа для конкретной задачи на конкретной странице. `'rwxthqz'`

---

## Инструкция по установке

Следуйте этим шагам чтобы настроить и запустить веб приложение на локальной машине. В вашей системе уже должнны быть
предустановлены пакеты Git и Python3.12.

#### 1. Скопируйте репозиторий

Сначала скопируйте репозиторий с GitHub на вашу локальную машину используя команду:

```bash
git clone https://github.com/_ИМЯ_/_ПРИЛОЖЕНИЕ_.git
```

#### 2. Переместитесь в дирректорию проекта

Зайдите в созданную папку `flask-pony-web11`:

```bash
cd flask-pony-web11
```

#### 3. Создание и активация виртуального окружения

Создайте виртуальное окружение в дирректории проекта. это изолирует зависимости проекта от вашего общего Python
окружения.

чтобы создать виртуальное окружение, запусти:

```bash
python -m venv venv
```

Активируй виртуальное окружение:

- На Windows, используй:

  ```bash
  .\venv\Scripts\activate
  ```

- На Unix или MacOS, используй:

  ```bash
  source venv/bin/activate
  ```

#### 4. Установка зависимостей приложения

После активации виртуального окружения установи зависимые библиотеки через pip:

```bash
pip install .
```

Эта команда установит всё что нужно для запуска приложения, включая Flask и Pony ORM.

#### 5. Запуск приложения

Запусти `hello11app` сервер:

```bash
flask --app hello11app run
```

#### 6. Доступ к веб приложению

После запуска приложения, открой браузер и перейди по ссылке:

```
http://localhost:5000/
```

Сейчас ты можеш успешно взаимодействовать с веб приложением.

